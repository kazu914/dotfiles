[[plugins]]
repo = "Shougo/ddc-around"
[[plugins]]
repo = "Shougo/ddc-matcher_head"
[[plugins]]
repo = "Shougo/ddc-sorter_rank"
[[plugins]]
repo = "Shougo/ddc-nvim-lsp"
[[plugins]]
repo = "Shougo/ddc-rg"
[[plugins]]
repo = 'Shougo/neco-vim'
[[plugins]]
repo = "Shougo/pum.vim"
on_source = "Shougo/ddc.vim"
hook_add = '''
inoremap <silent><expr> <TAB>
      \ pum#visible() ? '<Cmd>call pum#map#insert_relative(+1)<CR>' :
      \ (col('.') <= 1 <Bar><Bar> getline('.')[col('.') - 2] =~# '\s') ?
      \ '<TAB>' : ddc#manual_complete()
inoremap <S-Tab> <Cmd>call pum#map#insert_relative(-1)<CR>
inoremap <C-n>   <Cmd>call pum#map#select_relative(+1)<CR>
inoremap <C-p>   <Cmd>call pum#map#select_relative(-1)<CR>
inoremap <expr><CR> pum#visible() ? '<Cmd>call pum#map#confirm()<CR>' :
      \ "<CR>"

inoremap <C-e>   <Cmd>call pum#map#cancel()<CR>

call ddc#custom#patch_global('completionMenu', 'pum.vim')
call pum#set_option('border','rounded')
'''

[[plugins]]
repo = "Shougo/ddc.vim"
hook_add='''
" Customize global settings
" Use around source.
call ddc#custom#patch_global('sources', ['nvim-lsp','around'])
call ddc#custom#patch_filetype(['vim', 'toml'], 'sources', ['necovim'])

" Use matcher_head and sorter_rank.
call ddc#custom#patch_global('sourceOptions', {
      \  '_': {
      \    'matchers': ['matcher_head'],
      \    'sorters': ['sorter_rank'],
      \  },
      \  'nvim-lsp': {
      \    'mark': 'LSP',
      \    'forceCompletionPattern': '\.\w*|:\w*|->\w*',
      \  },
      \  'rg': {
      \     'mark': "rg",
      \     'minAutoCompletLength':4
      \  },
      \ 'around': {
      \     'mark': 'around',
      \     'maxSize': 500
      \  },
      \  'necovim': {'mark': 'vim'},
      \ })

" Use ddc.
call ddc#enable()
'''

[[plugins]]
repo = 'matsui54/denops-popup-preview.vim'
on_source = 'ddc.vim'
hook_source = '''
 call popup_preview#enable()
'''

[[plugins]]
repo = 'hrsh7th/vim-vsnip'

[[plugins]]
repo = 'hrsh7th/vim-vsnip-integ'
